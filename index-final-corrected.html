<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ‰æ‘æ˜†ã®æ°‘æ³Šå¡¾ | æ°‘æ³Šåç›Šã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
    <meta name="description" content="æ°‘æ³ŠæŠ•è³‡ã®åç›Šæ€§ã‚’ç°¡å˜ã«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€‚LINE Boté€£æºã§çµæœé€šçŸ¥ã€‚">
    <meta name="keywords" content="æ°‘æ³Š,æŠ•è³‡,ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼,åç›Š,LINE Bot,æœ‰æ‘æ˜†">
    
    <!-- React CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Recharts CDN -->
    <script src="https://unpkg.com/recharts@2.8.0/umd/Recharts.js"></script>
    
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ« */
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .result-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        
        .profit-positive {
            color: #10b981;
        }
        
        .profit-negative {
            color: #ef4444;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #3b82f6, #10b981);
            height: 8px;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .step-indicator {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .step-indicator .progress-container {
            flex: 1;
            background: #e5e7eb;
            height: 8px;
            border-radius: 4px;
            margin-left: 1rem;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        // è¨­å®š
        const CONFIG = {
            // GitHub Pagesç”¨ - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã®URLï¼ˆç’°å¢ƒã«å¿œã˜ã¦å¤‰æ›´ï¼‰
            API_BASE_URL: 'https://your-api-server.herokuapp.com',
            GITHUB_PAGES_URL: 'https://prorium.github.io/arikon-minpaku/',
            LINE_OFFICIAL_URL: 'https://line.me/R/ti/p/@your-line-id'  // å…¬å¼LINEã®URL
        };
        
        const { useState, useEffect } = React;
        
        // åœ°åŸŸãƒ‡ãƒ¼ã‚¿ï¼ˆæ­£ç¢ºãªæ•°å€¤ã«ä¿®æ­£ï¼‰
        const regionData = {
            'æ±äº¬éƒ½': { ç¨¼åƒç‡: 0.70, å¹³å‡å˜ä¾¡: 8000 },
            'å¤§é˜ªåºœ': { ç¨¼åƒç‡: 0.68, å¹³å‡å˜ä¾¡: 6500 },
            'äº¬éƒ½åºœ': { ç¨¼åƒç‡: 0.65, å¹³å‡å˜ä¾¡: 7000 },
            'ç¦å²¡çœŒ': { ç¨¼åƒç‡: 0.60, å¹³å‡å˜ä¾¡: 5500 },
            'æ²–ç¸„çœŒ': { ç¨¼åƒç‡: 0.62, å¹³å‡å˜ä¾¡: 6000 },
            'åŒ—æµ·é“': { ç¨¼åƒç‡: 0.55, å¹³å‡å˜ä¾¡: 5000 },
            'ãã®ä»–åœ°æ–¹': { ç¨¼åƒç‡: 0.40, å¹³å‡å˜ä¾¡: 4000 }
        };
        
        // ç‰©ä»¶ãƒ‡ãƒ¼ã‚¿
        const propertyData = {
            '1K': { å®¶å…·å®¶é›»è²»: 500000, æœˆé¡æ¸…æƒè²»: 15000 },
            '1DK': { å®¶å…·å®¶é›»è²»: 600000, æœˆé¡æ¸…æƒè²»: 18000 },
            '1LDK': { å®¶å…·å®¶é›»è²»: 800000, æœˆé¡æ¸…æƒè²»: 20000 },
            '2LDK': { å®¶å…·å®¶é›»è²»: 1200000, æœˆé¡æ¸…æƒè²»: 25000 },
            '3LDK': { å®¶å…·å®¶é›»è²»: 1500000, æœˆé¡æ¸…æƒè²»: 30000 },
            'æˆ¸å»ºã¦': { å®¶å…·å®¶é›»è²»: 2000000, æœˆé¡æ¸…æƒè²»: 40000 }
        };
        
        function App() {
            const [currentStep, setCurrentStep] = useState(0);
            const [formData, setFormData] = useState({
                region: '',
                propertyType: '',
                monthlyRent: 100000,
                initialCost: 1000000,  // åˆæœŸè²»ç”¨ã‚’æ‰‹å…¥åŠ›
                furnitureAppliances: true,
                renovationCost: 0,
                managementFeeRate: 10,
                cleaningFee: 0
            });
            const [results, setResults] = useState(null);
            const [isCalculating, setIsCalculating] = useState(false);
            const [showLineInfo, setShowLineInfo] = useState(false);
            
            const steps = [
                { title: 'ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°', icon: 'ğŸ ' },
                { title: 'åœ°åŸŸé¸æŠ', icon: 'ğŸ“' },
                { title: 'ç‰©ä»¶ã‚¿ã‚¤ãƒ—', icon: 'ğŸ¢' },
                { title: 'å®¶è³ƒãƒ»è²»ç”¨', icon: 'ğŸ’°' },
                { title: 'è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³', icon: 'âš¡' },
                { title: 'çµæœè¡¨ç¤º', icon: 'ğŸ“ˆ' }
            ];
            
            const regions = [
                { value: 'æ±äº¬éƒ½', label: 'æ±äº¬éƒ½', description: 'æ´»æ°—ã‚ã‚‹é¦–éƒ½', avgRate: '70%', avgPrice: 'Â¥8,000' },
                { value: 'å¤§é˜ªåºœ', label: 'å¤§é˜ªåºœ', description: 'é–¢è¥¿ã®ä¸­å¿ƒåœ°', avgRate: '68%', avgPrice: 'Â¥6,500' },
                { value: 'äº¬éƒ½åºœ', label: 'äº¬éƒ½åºœ', description: 'æ­´å²çš„ãªè¦³å…‰åœ°', avgRate: '65%', avgPrice: 'Â¥7,000' },
                { value: 'ç¦å²¡çœŒ', label: 'ç¦å²¡çœŒ', description: 'ä¹å·ã®ç„é–¢å£', avgRate: '60%', avgPrice: 'Â¥5,500' },
                { value: 'æ²–ç¸„çœŒ', label: 'æ²–ç¸„çœŒ', description: 'ãƒªã‚¾ãƒ¼ãƒˆåœ°', avgRate: '62%', avgPrice: 'Â¥6,000' },
                { value: 'åŒ—æµ·é“', label: 'åŒ—æµ·é“', description: 'è‡ªç„¶è±Šã‹ãªè¦³å…‰åœ°', avgRate: '55%', avgPrice: 'Â¥5,000' },
                { value: 'ãã®ä»–åœ°æ–¹', label: 'ãã®ä»–åœ°æ–¹', description: 'åœ°æ–¹éƒ½å¸‚', avgRate: '40%', avgPrice: 'Â¥4,000' }
            ];
            
            const propertyTypes = [
                { value: '1K', label: '1K', maxOccupancy: 2, icon: 'ğŸ ' },
                { value: '1DK', label: '1DK', maxOccupancy: 2, icon: 'ğŸ ' },
                { value: '1LDK', label: '1LDK', maxOccupancy: 3, icon: 'ğŸ¡' },
                { value: '2LDK', label: '2LDK', maxOccupancy: 4, icon: 'ğŸ¡' },
                { value: '3LDK', label: '3LDK', maxOccupancy: 6, icon: 'ğŸ˜ï¸' },
                { value: 'æˆ¸å»ºã¦', label: 'æˆ¸å»ºã¦', maxOccupancy: 8, icon: 'ğŸ˜ï¸' }
            ];
            
            // å®Œå…¨ã«ä¿®æ­£ã•ã‚ŒãŸè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
            const calculateResults = async () => {
                setIsCalculating(true);
                
                try {
                    const regionInfo = regionData[formData.region];
                    const propertyInfo = propertyData[formData.propertyType];
                    
                    if (!regionInfo || !propertyInfo) {
                        throw new Error('åœ°åŸŸã¾ãŸã¯ç‰©ä»¶ã‚¿ã‚¤ãƒ—ãŒé¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“');
                    }
                    
                    // æœˆé–“åç›Šè¨ˆç®—ï¼ˆæ­£ç¢ºãªè¨ˆç®—ï¼‰
                    const dailyRate = regionInfo.å¹³å‡å˜ä¾¡;
                    const occupancyRate = regionInfo.ç¨¼åƒç‡;
                    const daysInMonth = 30;
                    const monthlyRevenue = dailyRate * daysInMonth * occupancyRate;
                    
                    // æœˆé–“æ”¯æ‰•ã„è¨ˆç®—ï¼ˆæ­£ç¢ºãªè¨ˆç®—ï¼‰
                    const monthlyCosts = {
                        rent: formData.monthlyRent,  // æœˆé¡å®¶è³ƒ
                        cleaning: propertyInfo.æœˆé¡æ¸…æƒè²»,  // æ¸…æƒè²»
                        management: monthlyRevenue * (formData.managementFeeRate / 100),  // é‹å–¶ä»£è¡Œè²»
                        utilities: 8000, // å…‰ç†±è²»ç­‰ï¼ˆå›ºå®šï¼‰
                        insurance: 3000, // ä¿é™ºæ–™ï¼ˆå›ºå®šï¼‰
                        maintenance: 5000 // ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹è²»ï¼ˆå›ºå®šï¼‰
                    };
                    const totalMonthlyCost = Object.values(monthlyCosts).reduce((sum, cost) => sum + cost, 0);
                    const monthlyProfit = monthlyRevenue - totalMonthlyCost;
                    
                    // å¹´é–“è¨ˆç®—
                    const annualRevenue = monthlyRevenue * 12;
                    const annualCosts = totalMonthlyCost * 12;
                    const annualProfit = monthlyProfit * 12;
                    
                    // åˆæœŸè²»ç”¨ï¼ˆæ‰‹å…¥åŠ›ï¼‰
                    const totalInitialCost = formData.initialCost + 
                        (formData.furnitureAppliances ? propertyInfo.å®¶å…·å®¶é›»è²» : 0) + 
                        formData.renovationCost;
                    
                    // ROIè¨ˆç®—ï¼ˆæ­£ç¢ºãªè¨ˆç®—ï¼‰- åˆæœŸè²»ç”¨ã«å¯¾ã™ã‚‹å¹´é–“åˆ©ç›Šã®å‰²åˆ
                    const roi = totalInitialCost > 0 ? (annualProfit / totalInitialCost) * 100 : 0;
                    const recoveryPeriod = annualProfit > 0 ? totalInitialCost / annualProfit : 0;
                    
                    const calculatedResults = {
                        region: formData.region,
                        property_type: formData.propertyType,
                        monthly_rent: formData.monthlyRent,
                        initial_cost: formData.initialCost,
                        annualRevenue: Math.round(annualRevenue),
                        annualCosts: Math.round(annualCosts),
                        annualProfit: Math.round(annualProfit),
                        roi: Math.round(roi * 10) / 10,
                        recoveryPeriod: Math.round(recoveryPeriod * 10) / 10,
                        totalInitialCost: totalInitialCost,
                        occupancyRate: occupancyRate,
                        dailyRate: dailyRate,
                        monthlyRevenue: Math.round(monthlyRevenue),
                        monthlyCosts: Math.round(totalMonthlyCost),
                        monthlyProfit: Math.round(monthlyProfit)
                    };
                    
                    // ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã«é€ä¿¡ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
                    try {
                        const response = await fetch(`${CONFIG.API_BASE_URL}/api/simulation/calculate`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(formData),
                        });
                        
                        if (response.ok) {
                            const apiData = await response.json();
                            setResults(apiData.annualRevenue ? apiData : calculatedResults);
                        } else {
                            setResults(calculatedResults);
                        }
                    } catch (apiError) {
                        console.log('APIæ¥ç¶šå¤±æ•—ã€ãƒ­ãƒ¼ã‚«ãƒ«è¨ˆç®—çµæœã‚’ä½¿ç”¨:', apiError);
                        setResults(calculatedResults);
                    }
                    
                    setCurrentStep(5);
                } catch (error) {
                    console.error('è¨ˆç®—ã‚¨ãƒ©ãƒ¼:', error);
                    alert('è¨ˆç®—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚å…¥åŠ›å†…å®¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
                } finally {
                    setIsCalculating(false);
                }
            };
            
            const nextStep = () => {
                if (currentStep === 4) {
                    calculateResults();
                } else {
                    setCurrentStep(prev => Math.min(prev + 1, steps.length - 1));
                }
            };
            
            const prevStep = () => {
                setCurrentStep(prev => Math.max(prev - 1, 0));
            };
            
            // ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ï¼ˆãƒ­ã‚´å¤‰æ›´ï¼‰
            const renderLandingPage = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4">
                    <div className="max-w-4xl mx-auto text-center">
                        <div className="mb-8">
                            <div className="flex items-center justify-center mb-4">
                                <img 
                                    src="data_mark.png"
                                    alt="æœ‰æ‘æ˜†ã®æ°‘æ³Šå¡¾" 
                                    className="h-16 md:h-20 object-contain"
                                />
                            </div>
                        </div>
                        
                        <h2 className="text-5xl font-bold text-gray-800 mb-4">
                            3åˆ†ã§åˆ†ã‹ã‚‹ï¼<br />
                            ã‚ãªãŸã®æ°‘æ³ŠæŠ•è³‡åç›Š
                        </h2>
                        
                        <p className="text-xl text-gray-600 mb-8">
                            ã‚ãªãŸã®æ°‘æ³ŠæŠ•è³‡ã«ã™ã¹ã¦ç­”ãˆã‚‹
                        </p>
                        
                        <button 
                            onClick={nextStep}
                            className="bg-green-500 hover:bg-green-600 text-white px-8 py-4 text-lg rounded-full mb-12 transition-all duration-300 transform hover:scale-105 shadow-lg"
                        >
                            ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å§‹ã‚ã‚‹
                        </button>
                        
                        <div className="grid md:grid-cols-3 gap-8 mt-12">
                            <div className="bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-lg">
                                <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <span className="text-2xl">âš¡</span>
                                </div>
                                <h3 className="text-xl font-semibold mb-2">ã‚²ãƒ¼ãƒ æ„Ÿè¦šã®ç®—å‡º</h3>
                                <p className="text-gray-600">æ¥½ã—ãã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</p>
                            </div>
                            
                            <div className="bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-lg">
                                <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <span className="text-2xl">ğŸ“Š</span>
                                </div>
                                <h3 className="text-xl font-semibold mb-2">ç°¡å˜ãªå…¥åŠ›</h3>
                                <p className="text-gray-600">å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã«ã‚µãƒãƒ¼ãƒˆ</p>
                            </div>
                            
                            <div className="bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-lg">
                                <div className="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <span className="text-2xl">ğŸ“ˆ</span>
                                </div>
                                <h3 className="text-xl font-semibold mb-2">è©³ç´°ãªåˆ†æ</h3>
                                <p className="text-gray-600">åç›Šæ€§ã®è©³ç´°åˆ†æ</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
            
            // åœ°åŸŸé¸æŠ
            const renderRegionSelection = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="mb-8">
                            <h2 className="text-3xl font-bold text-gray-800 mb-4">åœ°åŸŸã‚’é¸æŠ</h2>
                            <div className="step-indicator">
                                <span className="text-sm text-gray-600">Step 1 of 5</span>
                                <div className="progress-container">
                                    <div className="progress-bar" style={{width: '20%'}}></div>
                                </div>
                            </div>
                        </div>
                        
                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            {regions.map((region) => (
                                <div 
                                    key={region.value}
                                    className={`card-hover cursor-pointer p-6 rounded-lg border-2 transition-all ${
                                        formData.region === region.value ? 'border-blue-500 bg-blue-50' : 'border-gray-200 bg-white hover:border-gray-300'
                                    }`}
                                    onClick={() => setFormData(prev => ({ ...prev, region: region.value }))}
                                >
                                    <h3 className="text-xl font-semibold mb-2 flex items-center">
                                        <span className="mr-2">ğŸ“</span>
                                        {region.label}
                                    </h3>
                                    <p className="text-gray-600 mb-3">{region.description}</p>
                                    <div className="space-y-2">
                                        <div className="flex justify-between">
                                            <span className="text-sm text-gray-600">å¹³å‡ç¨¼åƒç‡</span>
                                            <span className="text-sm font-medium">{region.avgRate}</span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span className="text-sm text-gray-600">å¹³å‡å˜ä¾¡</span>
                                            <span className="text-sm font-medium">{region.avgPrice}</span>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                        
                        <div className="flex justify-between mt-8">
                            <button
                                onClick={prevStep}
                                className="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                æˆ»ã‚‹
                            </button>
                            <button
                                onClick={nextStep}
                                disabled={!formData.region}
                                className="bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                æ¬¡ã¸
                            </button>
                        </div>
                    </div>
                </div>
            );
            
            // ç‰©ä»¶ã‚¿ã‚¤ãƒ—é¸æŠ
            const renderPropertyTypeSelection = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="mb-8">
                            <h2 className="text-3xl font-bold text-gray-800 mb-4">ç‰©ä»¶ã‚¿ã‚¤ãƒ—ã‚’é¸æŠ</h2>
                            <div className="step-indicator">
                                <span className="text-sm text-gray-600">Step 2 of 5</span>
                                <div className="progress-container">
                                    <div className="progress-bar" style={{width: '40%'}}></div>
                                </div>
                            </div>
                        </div>
                        
                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            {propertyTypes.map((property) => (
                                <div 
                                    key={property.value}
                                    className={`card-hover cursor-pointer p-6 rounded-lg border-2 transition-all ${
                                        formData.propertyType === property.value ? 'border-blue-500 bg-blue-50' : 'border-gray-200 bg-white hover:border-gray-300'
                                    }`}
                                    onClick={() => setFormData(prev => ({ ...prev, propertyType: property.value }))}
                                >
                                    <div className="text-center">
                                        <div className="text-4xl mb-2">{property.icon}</div>
                                        <h3 className="text-xl font-semibold mb-2">{property.label}</h3>
                                        <p className="text-gray-600">
                                            <span className="mr-1">ğŸ‘¥</span>
                                            æœ€å¤§{property.maxOccupancy}åã¾ã§
                                        </p>
                                    </div>
                                </div>
                            ))}
                        </div>
                        
                        <div className="flex justify-between mt-8">
                            <button
                                onClick={prevStep}
                                className="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                æˆ»ã‚‹
                            </button>
                            <button
                                onClick={nextStep}
                                disabled={!formData.propertyType}
                                className="bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                æ¬¡ã¸
                            </button>
                        </div>
                    </div>
                </div>
            );
            
            // å®¶è³ƒãƒ»è²»ç”¨å…¥åŠ›ï¼ˆåˆæœŸè²»ç”¨ã‚’æ‰‹å…¥åŠ›ï¼‰
            const renderRentInput = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="mb-8">
                            <h2 className="text-3xl font-bold text-gray-800 mb-4">å®¶è³ƒãƒ»åˆæœŸè²»ç”¨</h2>
                            <div className="step-indicator">
                                <span className="text-sm text-gray-600">Step 3 of 5</span>
                                <div className="progress-container">
                                    <div className="progress-bar" style={{width: '60%'}}></div>
                                </div>
                            </div>
                        </div>
                        
                        <div className="space-y-6">
                            <div className="bg-white rounded-lg p-8 shadow-lg">
                                <h3 className="text-xl font-semibold mb-6">æœˆé¡å®¶è³ƒ</h3>
                                
                                <div className="mb-6">
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        æœˆé¡å®¶è³ƒ (å††)
                                    </label>
                                    <input
                                        type="range"
                                        min="30000"
                                        max="500000"
                                        step="10000"
                                        value={formData.monthlyRent}
                                        onChange={(e) => setFormData(prev => ({ ...prev, monthlyRent: parseInt(e.target.value) }))}
                                        className="w-full mb-4"
                                    />
                                    <input
                                        type="number"
                                        value={formData.monthlyRent}
                                        onChange={(e) => setFormData(prev => ({ ...prev, monthlyRent: parseInt(e.target.value) || 0 }))}
                                        className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg font-bold"
                                    />
                                </div>
                            </div>
                            
                            {/* åˆæœŸè²»ç”¨ã‚’æ‰‹å…¥åŠ› */}
                            <div className="bg-white rounded-lg p-8 shadow-lg">
                                <h3 className="text-xl font-semibold mb-6">åˆæœŸè²»ç”¨</h3>
                                
                                <div className="mb-6">
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        åˆæœŸè²»ç”¨ï¼ˆæ•·é‡‘ãƒ»ç¤¼é‡‘ãƒ»ä»²ä»‹æ‰‹æ•°æ–™ç­‰ï¼‰(å††)
                                    </label>
                                    <input
                                        type="range"
                                        min="0"
                                        max="5000000"
                                        step="100000"
                                        value={formData.initialCost}
                                        onChange={(e) => setFormData(prev => ({ ...prev, initialCost: parseInt(e.target.value) }))}
                                        className="w-full mb-4"
                                    />
                                    <input
                                        type="number"
                                        value={formData.initialCost}
                                        onChange={(e) => setFormData(prev => ({ ...prev, initialCost: parseInt(e.target.value) || 0 }))}
                                        className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg font-bold"
                                    />
                                    <p className="text-sm text-gray-600 mt-2">
                                        â€»æ•·é‡‘ãƒ»ç¤¼é‡‘ãƒ»ä»²ä»‹æ‰‹æ•°æ–™ãƒ»ãã®ä»–åˆæœŸè²»ç”¨ã®åˆè¨ˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
                                    </p>
                                </div>
                            </div>
                            
                            {formData.propertyType && (
                                <div className="bg-gray-50 p-4 rounded-lg">
                                    <h4 className="font-semibold mb-3">å‚è€ƒï¼šæœˆé¡è²»ç”¨</h4>
                                    <div className="space-y-2">
                                        <div className="flex justify-between">
                                            <span>æœˆé¡æ¸…æƒè²»</span>
                                            <span className="font-medium">
                                                Â¥{propertyData[formData.propertyType].æœˆé¡æ¸…æƒè²».toLocaleString()}
                                            </span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span>å…‰ç†±è²»ãƒ»ä¿é™ºæ–™ç­‰</span>
                                            <span className="font-medium">Â¥16,000</span>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                        
                        <div className="flex justify-between mt-8">
                            <button
                                onClick={prevStep}
                                className="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                æˆ»ã‚‹
                            </button>
                            <button
                                onClick={nextStep}
                                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                æ¬¡ã¸
                            </button>
                        </div>
                    </div>
                </div>
            );
            
            // è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³
            const renderOptionsInput = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="mb-8">
                            <h2 className="text-3xl font-bold text-gray-800 mb-4">è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³</h2>
                            <div className="step-indicator">
                                <span className="text-sm text-gray-600">Step 4 of 5</span>
                                <div className="progress-container">
                                    <div className="progress-bar" style={{width: '80%'}}></div>
                                </div>
                            </div>
                        </div>
                        
                        <div className="space-y-6">
                            <div className="bg-white rounded-lg p-6 shadow-lg">
                                <h3 className="text-xl font-semibold mb-4">å®¶å…·ãƒ»å®¶é›»</h3>
                                <div className="flex items-center space-x-2">
                                    <input
                                        type="checkbox"
                                        id="furniture"
                                        checked={formData.furnitureAppliances}
                                        onChange={(e) => setFormData(prev => ({ ...prev, furnitureAppliances: e.target.checked }))}
                                        className="h-4 w-4 text-blue-600"
                                    />
                                    <label htmlFor="furniture" className="text-lg">
                                        å®¶å…·ãƒ»å®¶é›»ã‚’è³¼å…¥ã™ã‚‹ 
                                        {formData.propertyType && (
                                            <span className="text-gray-600 ml-2">
                                                (Â¥{propertyData[formData.propertyType].å®¶å…·å®¶é›»è²».toLocaleString()})
                                            </span>
                                        )}
                                    </label>
                                </div>
                            </div>
                            
                            <div className="bg-white rounded-lg p-6 shadow-lg">
                                <h3 className="text-xl font-semibold mb-4">ãƒªãƒ•ã‚©ãƒ¼ãƒ è²»ç”¨</h3>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    ãƒªãƒ•ã‚©ãƒ¼ãƒ è²»ç”¨ (å††)
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="2000000"
                                    step="50000"
                                    value={formData.renovationCost}
                                    onChange={(e) => setFormData(prev => ({ ...prev, renovationCost: parseInt(e.target.value) }))}
                                    className="w-full mb-4"
                                />
                                <input
                                    type="number"
                                    value={formData.renovationCost}
                                    onChange={(e) => setFormData(prev => ({ ...prev, renovationCost: parseInt(e.target.value) || 0 }))}
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-center"
                                />
                            </div>
                            
                            <div className="bg-white rounded-lg p-6 shadow-lg">
                                <h3 className="text-xl font-semibold mb-4">é‹å–¶ä»£è¡Œè²»</h3>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    å£²ä¸Šã«å¯¾ã™ã‚‹é‹å–¶ä»£è¡Œè²» (%)
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="30"
                                    step="1"
                                    value={formData.managementFeeRate}
                                    onChange={(e) => setFormData(prev => ({ ...prev, managementFeeRate: parseInt(e.target.value) }))}
                                    className="w-full mb-4"
                                />
                                <input
                                    type="number"
                                    value={formData.managementFeeRate}
                                    onChange={(e) => setFormData(prev => ({ ...prev, managementFeeRate: parseInt(e.target.value) || 0 }))}
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-center"
                                    min="0"
                                    max="30"
                                />
                            </div>
                        </div>
                        
                        <div className="flex justify-between mt-8">
                            <button
                                onClick={prevStep}
                                className="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                æˆ»ã‚‹
                            </button>
                            <button
                                onClick={nextStep}
                                disabled={isCalculating}
                                className="bg-green-500 hover:bg-green-600 disabled:bg-gray-300 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                {isCalculating ? 'è¨ˆç®—ä¸­...' : 'çµæœã‚’è¨ˆç®—'}
                            </button>
                        </div>
                    </div>
                </div>
            );
            
            // çµæœè¡¨ç¤ºï¼ˆã€Œå¹´é–“è²»ç”¨ã€â†’ã€Œå¹´é–“æ”¯æ‰•ã„ã€ã«å¤‰æ›´ï¼‰
            const renderResults = () => {
                if (!results) return null;
                
                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4">
                        <div className="max-w-4xl mx-auto">
                            <div className="mb-8">
                                <h2 className="text-3xl font-bold text-gray-800 mb-4">ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœ</h2>
                                <div className="step-indicator">
                                    <span className="text-sm text-gray-600">Step 5 of 5</span>
                                    <div className="progress-container">
                                        <div className="progress-bar" style={{width: '100%'}}></div>
                                    </div>
                                </div>
                                <p className="text-gray-600">ã‚ãªãŸã®æ°‘æ³ŠæŠ•è³‡ã®åç›Šäºˆæ¸¬ã§ã™</p>
                            </div>
                            
                            {/* åŸºæœ¬åç›Šæƒ…å ±ï¼ˆã€Œå¹´é–“è²»ç”¨ã€â†’ã€Œå¹´é–“æ”¯æ‰•ã„ã€ã«å¤‰æ›´ï¼‰ */}
                            <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                                <div className="bg-white rounded-lg p-6 shadow-lg text-center">
                                    <h3 className="text-lg font-semibold text-gray-700 mb-2">å¹´é–“å£²ä¸Š</h3>
                                    <p className="text-2xl font-bold text-blue-600">
                                        Â¥{results.annualRevenue?.toLocaleString()}
                                    </p>
                                </div>
                                <div className="bg-white rounded-lg p-6 shadow-lg text-center">
                                    <h3 className="text-lg font-semibold text-gray-700 mb-2">å¹´é–“æ”¯æ‰•ã„</h3>
                                    <p className="text-2xl font-bold text-red-600">
                                        Â¥{results.annualCosts?.toLocaleString()}
                                    </p>
                                </div>
                                <div className="bg-white rounded-lg p-6 shadow-lg text-center">
                                    <h3 className="text-lg font-semibold text-gray-700 mb-2">å¹´é–“åˆ©ç›Š</h3>
                                    <p className={`text-2xl font-bold ${results.annualProfit >= 0 ? 'profit-positive' : 'profit-negative'}`}>
                                        Â¥{results.annualProfit?.toLocaleString()}
                                    </p>
                                </div>
                                <div className="bg-white rounded-lg p-6 shadow-lg text-center">
                                    <h3 className="text-lg font-semibold text-gray-700 mb-2">å¹´é–“åˆ©å›ã‚Š</h3>
                                    <p className="text-2xl font-bold text-purple-600">
                                        {results.roi}%
                                    </p>
                                </div>
                            </div>
                            
                            {/* è©³ç´°æƒ…å ± */}
                            <div className="bg-white rounded-lg p-8 shadow-lg mb-8">
                                <div className="grid md:grid-cols-2 gap-6">
                                    <div className="bg-gray-50 rounded-lg p-4">
                                        <h4 className="font-semibold mb-2">ğŸ“Š åŸºæœ¬æƒ…å ±</h4>
                                        <p>åœ°åŸŸ: {results.region}</p>
                                        <p>ç‰©ä»¶ã‚¿ã‚¤ãƒ—: {results.property_type}</p>
                                        <p>æœˆé¡å®¶è³ƒ: Â¥{results.monthly_rent?.toLocaleString()}</p>
                                        <p>åˆæœŸè²»ç”¨: Â¥{results.initial_cost?.toLocaleString()}</p>
                                        <p>æœˆé–“å£²ä¸Š: Â¥{results.monthlyRevenue?.toLocaleString()}</p>
                                        <p>æœˆé–“æ”¯æ‰•ã„: Â¥{results.monthlyCosts?.toLocaleString()}</p>
                                        <p>æœˆé–“åˆ©ç›Š: Â¥{results.monthlyProfit?.toLocaleString()}</p>
                                    </div>
                                    <div className="bg-gray-50 rounded-lg p-4">
                                        <h4 className="font-semibold mb-2">ğŸ’° æŠ•è³‡æŒ‡æ¨™</h4>
                                        <p>æŠ•è³‡å›åæœŸé–“: {results.recoveryPeriod}å¹´</p>
                                        <p>ç·åˆæœŸè²»ç”¨: Â¥{results.totalInitialCost?.toLocaleString()}</p>
                                        <p>ç¨¼åƒç‡: {(results.occupancyRate * 100).toFixed(0)}%</p>
                                        <p>å¹³å‡å˜ä¾¡: Â¥{results.dailyRate?.toLocaleString()}/æ—¥</p>
                                    </div>
                                </div>
                            </div>
                            
                            {/* LINEé€£æºã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}
                            <div className="result-card rounded-lg p-8 shadow-lg mb-8">
                                <h3 className="text-2xl font-bold mb-4 text-center">ğŸ“± çµæœã¯å…¬å¼LINEã‚ˆã‚Šå—ã‘å–ã‚Œã¾ã™</h3>
                                <p className="text-center mb-6 text-green-100">
                                    ã‚ˆã‚Šè©³ç´°ãªåˆ†æçµæœã¨ãƒ—ãƒ­ã®æŠ•è³‡ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’<br/>
                                    å…¬å¼LINEã§ç„¡æ–™é…ä¿¡ä¸­ï¼
                                </p>
                                
                                <div className="text-center mb-6">
                                    <button
                                        onClick={() => window.open(CONFIG.LINE_OFFICIAL_URL, '_blank')}
                                        className="bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-8 rounded-lg text-lg transition-all duration-300 transform hover:scale-105 shadow-lg"
                                    >
                                        ğŸ”— å…¬å¼LINEã«ç™»éŒ²ã™ã‚‹
                                    </button>
                                </div>
                                
                                <div className="grid md:grid-cols-2 gap-4 text-sm mb-8">
                                    <div className="bg-white/20 p-4 rounded-lg">
                                        <h4 className="font-semibold mb-2">ğŸ’° åŸºæœ¬åç›Šæƒ…å ±</h4>
                                        <p className="text-xs opacity-90">å¹´é–“å£²ä¸Šãƒ»æ”¯æ‰•ã„ãƒ»åˆ©ç›Šãƒ»åˆ©å›ã‚Šãƒ»å›åæœŸé–“</p>
                                    </div>
                                    <div className="bg-white/20 p-4 rounded-lg">
                                        <h4 className="font-semibold mb-2">ğŸ“ˆ æœˆåˆ¥åç›Šæ¨ç§»</h4>
                                        <p className="text-xs opacity-90">å£²ä¸Šãƒ»æ”¯æ‰•ã„ãƒ»åˆ©ç›Šã®è©³ç´°ãªæœˆåˆ¥æ¨ç§»</p>
                                    </div>
                                    <div className="bg-white/20 p-4 rounded-lg">
                                        <h4 className="font-semibold mb-2">ğŸ—¾ åœ°åŸŸæ¯”è¼ƒåˆ†æ</h4>
                                        <p className="text-xs opacity-90">ä»–åœ°åŸŸã¨ã®åç›Šæ€§ãƒ»ç¨¼åƒç‡æ¯”è¼ƒ</p>
                                    </div>
                                    <div className="bg-white/20 p-4 rounded-lg">
                                        <h4 className="font-semibold mb-2">âš ï¸ ãƒªã‚¹ã‚¯åˆ†æ</h4>
                                        <p className="text-xs opacity-90">æŠ•è³‡ãƒªã‚¹ã‚¯ã®è©³ç´°è©•ä¾¡ã¨å¯¾ç­–</p>
                                    </div>
                                    <div className="bg-white/20 p-4 rounded-lg">
                                        <h4 className="font-semibold mb-2">ğŸ’¡ æ”¹å–„ææ¡ˆ</h4>
                                        <p className="text-xs opacity-90">åç›Šå‘ä¸Šã®å…·ä½“çš„ãªæ”¹å–„æ¡ˆ</p>
                                    </div>
                                    <div className="bg-white/20 p-4 rounded-lg">
                                        <h4 className="font-semibold mb-2">ğŸ“ æ°‘æ³Šå¡¾ç‰¹åˆ¥æ¡ˆå†…</h4>
                                        <p className="text-xs opacity-90">LINEé™å®š50%OFFã§ã®ã‚¹ã‚¯ãƒ¼ãƒ«æ¡ˆå†…</p>
                                    </div>
                                </div>
                                
                                <p className="text-sm text-green-100 text-center">
                                    â€»ç™»éŒ²ã¯ç„¡æ–™ã§ã™ã€‚å‹ã ã¡è¿½åŠ å¾Œã€è‡ªå‹•ã§è©³ç´°ãªåˆ†æçµæœã‚’ãŠé€ã‚Šã—ã¾ã™ã€‚
                                </p>
                            </div>
                            
                            {/* å…è²¬äº‹é … */}
                            <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8">
                                <p className="text-sm text-yellow-800">
                                    <strong>å…è²¬äº‹é …ï¼š</strong>
                                    ã“ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœã¯å‚è€ƒå€¤ã§ã‚ã‚Šã€å®Ÿéš›ã®æŠ•è³‡åç›Šã‚’ä¿è¨¼ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                                    æŠ•è³‡åˆ¤æ–­ã¯è‡ªå·±è²¬ä»»ã§è¡Œã£ã¦ãã ã•ã„ã€‚
                                </p>
                            </div>
                            
                            <div className="text-center">
                                <button
                                    onClick={() => {
                                        setCurrentStep(0);
                                        setResults(null);
                                        setFormData({
                                            region: '',
                                            propertyType: '',
                                            monthlyRent: 100000,
                                            initialCost: 1000000,
                                            furnitureAppliances: true,
                                            renovationCost: 0,
                                            managementFeeRate: 10,
                                            cleaningFee: 0
                                        });
                                        setShowLineInfo(false);
                                    }}
                                    className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg"
                                >
                                    æ–°ã—ã„ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };
            
            const renderStep = () => {
                switch (currentStep) {
                    case 0: return renderLandingPage();
                    case 1: return renderRegionSelection();
                    case 2: return renderPropertyTypeSelection();
                    case 3: return renderRentInput();
                    case 4: return renderOptionsInput();
                    case 5: return renderResults();
                    default: return renderLandingPage();
                }
            };
            
            return (
                <div className="min-h-screen">
                    {renderStep()}
                    
                    {/* ãƒ•ãƒƒã‚¿ãƒ¼ */}
                    <footer className="bg-gray-800 text-white py-8">
                        <div className="max-w-4xl mx-auto px-4 text-center">
                            <div className="mb-4">
                                <span className="text-2xl mb-2 block">ğŸ </span>
                            </div>
                            <p className="mb-2">é‹å–¶ä¼šç¤¾ï¼šæ ªå¼ä¼šç¤¾Prorium</p>
                        </div>
                    </footer>
                </div>
            );
        }
        
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>

