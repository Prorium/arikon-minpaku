<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÊúâÊùëÊòÜ„ÅÆÊ∞ëÊ≥äÂ°æ | Ê∞ëÊ≥äÂèéÁõä„Ç∑„Éü„É•„É¨„Éº„Çø„Éº</title>
    <meta name="description" content="Ê∞ëÊ≥äÊäïË≥á„ÅÆÂèéÁõäÊÄß„ÇíÁ∞°Âçò„Å´„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥„ÄÇLINE BotÈÄ£Êê∫„ÅßÁµêÊûúÈÄöÁü•„ÄÇ">
    <meta name="keywords" content="Ê∞ëÊ≥ä,ÊäïË≥á,„Ç∑„Éü„É•„É¨„Éº„Çø„Éº,ÂèéÁõä,LINE Bot,ÊúâÊùëÊòÜ">
    
    <!-- React CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Recharts CDN -->
    <script src="https://unpkg.com/recharts@2.8.0/umd/Recharts.js"></script>
    
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* „Ç´„Çπ„Çø„É†„Çπ„Çø„Ç§„É´ */
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .result-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        
        .profit-positive {
            color: #10b981;
        }
        
        .profit-negative {
            color: #ef4444;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #3b82f6, #10b981);
            height: 8px;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .step-indicator {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .step-indicator .progress-container {
            flex: 1;
            background: #e5e7eb;
            height: 8px;
            border-radius: 4px;
            margin-left: 1rem;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        // Ë®≠ÂÆö
        const CONFIG = {
            // GitHub PagesÁî® - „Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâAPI„ÅÆURLÔºàÁí∞Â¢É„Å´Âøú„Åò„Å¶Â§âÊõ¥Ôºâ
            API_BASE_URL: 'https://your-api-server.herokuapp.com',
            GITHUB_PAGES_URL: 'https://prorium.github.io/arikon-minpaku/',
            LINE_OFFICIAL_URL: 'https://line.me/R/ti/p/@your-line-id'  // ÂÖ¨ÂºèLINE„ÅÆURL
        };
        
        const { useState, useEffect } = React;
        
        // Âú∞Âüü„Éá„Éº„ÇøÔºàÊ≠£Á¢∫„Å™Êï∞ÂÄ§„Å´‰øÆÊ≠£Ôºâ
        const regionData = {
            'Êù±‰∫¨ÈÉΩ': { Á®ºÂÉçÁéá: 0.70, Âπ≥ÂùáÂçò‰æ°: 8000 },
            'Â§ßÈò™Â∫ú': { Á®ºÂÉçÁéá: 0.68, Âπ≥ÂùáÂçò‰æ°: 6500 },
            '‰∫¨ÈÉΩÂ∫ú': { Á®ºÂÉçÁéá: 0.65, Âπ≥ÂùáÂçò‰æ°: 7000 },
            'Á¶èÂ≤°Áúå': { Á®ºÂÉçÁéá: 0.60, Âπ≥ÂùáÂçò‰æ°: 5500 },
            'Ê≤ñÁ∏ÑÁúå': { Á®ºÂÉçÁéá: 0.62, Âπ≥ÂùáÂçò‰æ°: 6000 },
            'ÂåóÊµ∑ÈÅì': { Á®ºÂÉçÁéá: 0.55, Âπ≥ÂùáÂçò‰æ°: 5000 },
            '„Åù„ÅÆ‰ªñÂú∞Êñπ': { Á®ºÂÉçÁéá: 0.40, Âπ≥ÂùáÂçò‰æ°: 4000 }
        };
        
        // Áâ©‰ª∂„Éá„Éº„Çø
        const propertyData = {
            '1K': { ÂÆ∂ÂÖ∑ÂÆ∂ÈõªË≤ª: 500000, ÊúàÈ°çÊ∏ÖÊéÉË≤ª: 15000 },
            '1DK': { ÂÆ∂ÂÖ∑ÂÆ∂ÈõªË≤ª: 600000, ÊúàÈ°çÊ∏ÖÊéÉË≤ª: 18000 },
            '1LDK': { ÂÆ∂ÂÖ∑ÂÆ∂ÈõªË≤ª: 800000, ÊúàÈ°çÊ∏ÖÊéÉË≤ª: 20000 },
            '2LDK': { ÂÆ∂ÂÖ∑ÂÆ∂ÈõªË≤ª: 1200000, ÊúàÈ°çÊ∏ÖÊéÉË≤ª: 25000 },
            '3LDK': { ÂÆ∂ÂÖ∑ÂÆ∂ÈõªË≤ª: 1500000, ÊúàÈ°çÊ∏ÖÊéÉË≤ª: 30000 },
            'Êà∏Âª∫„Å¶': { ÂÆ∂ÂÖ∑ÂÆ∂ÈõªË≤ª: 2000000, ÊúàÈ°çÊ∏ÖÊéÉË≤ª: 40000 }
        };
        
        function App() {
            const [currentStep, setCurrentStep] = useState(0);
            const [formData, setFormData] = useState({
                region: '',
                propertyType: '',
                monthlyRent: 100000,
                initialCost: 1000000,  // ÂàùÊúüË≤ªÁî®„ÇíÊâãÂÖ•Âäõ
                furnitureAppliances: true,
                renovationCost: 0,
                managementFeeRate: 10,
                cleaningFee: 0
            });
            const [results, setResults] = useState(null);
            const [isCalculating, setIsCalculating] = useState(false);
            const [showLineInfo, setShowLineInfo] = useState(false);
            
            const steps = [
                { title: '„É©„É≥„Éá„Ç£„É≥„Ç∞', icon: 'üè†' },
                { title: 'Âú∞ÂüüÈÅ∏Êäû', icon: 'üìç' },
                { title: 'Áâ©‰ª∂„Çø„Ç§„Éó', icon: 'üè¢' },
                { title: 'ÂÆ∂Ë≥É„ÉªË≤ªÁî®', icon: 'üí∞' },
                { title: 'ËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥', icon: '‚ö°' },
                { title: 'ÁµêÊûúË°®Á§∫', icon: 'üìà' }
            ];
            
            const regions = [
                { value: 'Êù±‰∫¨ÈÉΩ', label: 'Êù±‰∫¨ÈÉΩ', description: 'Ê¥ªÊ∞ó„ÅÇ„ÇãÈ¶ñÈÉΩ', avgRate: '70%', avgPrice: '¬•8,000' },
                { value: 'Â§ßÈò™Â∫ú', label: 'Â§ßÈò™Â∫ú', description: 'Èñ¢Ë•ø„ÅÆ‰∏≠ÂøÉÂú∞', avgRate: '68%', avgPrice: '¬•6,500' },
                { value: '‰∫¨ÈÉΩÂ∫ú', label: '‰∫¨ÈÉΩÂ∫ú', description: 'Ê≠¥Âè≤ÁöÑ„Å™Ë¶≥ÂÖâÂú∞', avgRate: '65%', avgPrice: '¬•7,000' },
                { value: 'Á¶èÂ≤°Áúå', label: 'Á¶èÂ≤°Áúå', description: '‰πùÂ∑û„ÅÆÁéÑÈñ¢Âè£', avgRate: '60%', avgPrice: '¬•5,500' },
                { value: 'Ê≤ñÁ∏ÑÁúå', label: 'Ê≤ñÁ∏ÑÁúå', description: '„É™„Çæ„Éº„ÉàÂú∞', avgRate: '62%', avgPrice: '¬•6,000' },
                { value: 'ÂåóÊµ∑ÈÅì', label: 'ÂåóÊµ∑ÈÅì', description: 'Ëá™ÁÑ∂Ë±ä„Åã„Å™Ë¶≥ÂÖâÂú∞', avgRate: '55%', avgPrice: '¬•5,000' },
                { value: '„Åù„ÅÆ‰ªñÂú∞Êñπ', label: '„Åù„ÅÆ‰ªñÂú∞Êñπ', description: 'Âú∞ÊñπÈÉΩÂ∏Ç', avgRate: '40%', avgPrice: '¬•4,000' }
            ];
            
            const propertyTypes = [
                { value: '1K', label: '1K', maxOccupancy: 2, icon: 'üè†' },
                { value: '1DK', label: '1DK', maxOccupancy: 2, icon: 'üè†' },
                { value: '1LDK', label: '1LDK', maxOccupancy: 3, icon: 'üè°' },
                { value: '2LDK', label: '2LDK', maxOccupancy: 4, icon: 'üè°' },
                { value: '3LDK', label: '3LDK', maxOccupancy: 6, icon: 'üèòÔ∏è' },
                { value: 'Êà∏Âª∫„Å¶', label: 'Êà∏Âª∫„Å¶', maxOccupancy: 8, icon: 'üèòÔ∏è' }
            ];
            
            // ÂÆåÂÖ®„Å´‰øÆÊ≠£„Åï„Çå„ÅüË®àÁÆó„É≠„Ç∏„ÉÉ„ÇØ
            const calculateResults = async () => {
                setIsCalculating(true);
                
                try {
                    const regionInfo = regionData[formData.region];
                    const propertyInfo = propertyData[formData.propertyType];
                    
                    if (!regionInfo || !propertyInfo) {
                        throw new Error('Âú∞Âüü„Åæ„Åü„ÅØÁâ©‰ª∂„Çø„Ç§„Éó„ÅåÈÅ∏Êäû„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
                    }
                    
                    // ÊúàÈñìÂèéÁõäË®àÁÆóÔºàÊ≠£Á¢∫„Å™Ë®àÁÆóÔºâ
                    const dailyRate = regionInfo.Âπ≥ÂùáÂçò‰æ°;
                    const occupancyRate = regionInfo.Á®ºÂÉçÁéá;
                    const daysInMonth = 30;
                    const monthlyRevenue = dailyRate * daysInMonth * occupancyRate;
                    
                    // ÊúàÈñìÊîØÊâï„ÅÑË®àÁÆóÔºàÊ≠£Á¢∫„Å™Ë®àÁÆóÔºâ
                    const monthlyCosts = {
                        rent: formData.monthlyRent,  // ÊúàÈ°çÂÆ∂Ë≥É
                        cleaning: propertyInfo.ÊúàÈ°çÊ∏ÖÊéÉË≤ª,  // Ê∏ÖÊéÉË≤ª
                        management: monthlyRevenue * (formData.managementFeeRate / 100),  // ÈÅãÂñ∂‰ª£Ë°åË≤ª
                        utilities: 8000, // ÂÖâÁÜ±Ë≤ªÁ≠âÔºàÂõ∫ÂÆöÔºâ
                        insurance: 3000, // ‰øùÈô∫ÊñôÔºàÂõ∫ÂÆöÔºâ
                        maintenance: 5000 // „É°„É≥„ÉÜ„Éä„É≥„ÇπË≤ªÔºàÂõ∫ÂÆöÔºâ
                    };
                    const totalMonthlyCost = Object.values(monthlyCosts).reduce((sum, cost) => sum + cost, 0);
                    const monthlyProfit = monthlyRevenue - totalMonthlyCost;
                    
                    // Âπ¥ÈñìË®àÁÆó
                    const annualRevenue = monthlyRevenue * 12;
                    const annualCosts = totalMonthlyCost * 12;
                    const annualProfit = monthlyProfit * 12;
                    
                    // ÂàùÊúüË≤ªÁî®ÔºàÊâãÂÖ•ÂäõÔºâ
                    const totalInitialCost = formData.initialCost + 
                        (formData.furnitureAppliances ? propertyInfo.ÂÆ∂ÂÖ∑ÂÆ∂ÈõªË≤ª : 0) + 
                        formData.renovationCost;
                    
                    // ROIË®àÁÆóÔºàÊ≠£Á¢∫„Å™Ë®àÁÆóÔºâ- ÂàùÊúüË≤ªÁî®„Å´ÂØæ„Åô„ÇãÂπ¥ÈñìÂà©Áõä„ÅÆÂâ≤Âêà
                    const roi = totalInitialCost > 0 ? (annualProfit / totalInitialCost) * 100 : 0;
                    const recoveryPeriod = annualProfit > 0 ? totalInitialCost / annualProfit : 0;
                    
                    const calculatedResults = {
                        region: formData.region,
                        property_type: formData.propertyType,
                        monthly_rent: formData.monthlyRent,
                        initial_cost: formData.initialCost,
                        annualRevenue: Math.round(annualRevenue),
                        annualCosts: Math.round(annualCosts),
                        annualProfit: Math.round(annualProfit),
                        roi: Math.round(roi * 10) / 10,
                        recoveryPeriod: Math.round(recoveryPeriod * 10) / 10,
                        totalInitialCost: totalInitialCost,
                        occupancyRate: occupancyRate,
                        dailyRate: dailyRate,
                        monthlyRevenue: Math.round(monthlyRevenue),
                        monthlyCosts: Math.round(totalMonthlyCost),
                        monthlyProfit: Math.round(monthlyProfit)
                    };
                    
                    // „Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâAPI„Å´ÈÄÅ‰ø°Ôºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
                    try {
                        const response = await fetch(`${CONFIG.API_BASE_URL}/api/simulation/calculate`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(formData),
                        });
                        
                        if (response.ok) {
                            const apiData = await response.json();
                            setResults(apiData.annualRevenue ? apiData : calculatedResults);
                        } else {
                            setResults(calculatedResults);
                        }
                    } catch (apiError) {
                        console.log('APIÊé•Á∂öÂ§±Êïó„ÄÅ„É≠„Éº„Ç´„É´Ë®àÁÆóÁµêÊûú„Çí‰ΩøÁî®:', apiError);
                        setResults(calculatedResults);
                    }
                    
                    setCurrentStep(5);
                } catch (error) {
                    console.error('Ë®àÁÆó„Ç®„É©„Éº:', error);
                    alert('Ë®àÁÆó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇÂÖ•ÂäõÂÜÖÂÆπ„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                } finally {
                    setIsCalculating(false);
                }
            };
            
            const nextStep = () => {
                if (currentStep === 4) {
                    calculateResults();
                } else {
                    setCurrentStep(prev => Math.min(prev + 1, steps.length - 1));
                }
            };
            
            const prevStep = () => {
                setCurrentStep(prev => Math.max(prev - 1, 0));
            };
            
            // „É©„É≥„Éá„Ç£„É≥„Ç∞„Éö„Éº„Ç∏Ôºà„É≠„Ç¥Â§âÊõ¥Ôºâ
            const renderLandingPage = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4">
                    <div className="max-w-4xl mx-auto text-center">
                        <div className="mb-8">
                            <div className="flex items-center justify-center mb-4">
                                <img 
                                    src="data_mark.png"
                                    alt="ÊúâÊùëÊòÜ„ÅÆÊ∞ëÊ≥äÂ°æ" 
                                    className="h-16 md:h-20 object-contain"
                                />
                            </div>
                        </div>
                        
                        <h2 className="text-5xl font-bold text-gray-800 mb-4">
                            3ÂàÜ„ÅßÂàÜ„Åã„ÇãÔºÅ<br />
                            „ÅÇ„Å™„Åü„ÅÆÊ∞ëÊ≥äÊäïË≥áÂèéÁõä
                        </h2>
                        
                        <p className="text-xl text-gray-600 mb-8">
                            „ÅÇ„Å™„Åü„ÅÆÊ∞ëÊ≥äÊäïË≥á„Å´„Åô„Åπ„Å¶Á≠î„Åà„Çã
                        </p>
                        
                        <button 
                            onClick={nextStep}
                            className="bg-green-500 hover:bg-green-600 text-white px-8 py-4 text-lg rounded-full mb-12 transition-all duration-300 transform hover:scale-105 shadow-lg"
                        >
                            „Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥„ÇíÂßã„ÇÅ„Çã
                        </button>
                        
                        <div className="grid md:grid-cols-3 gap-8 mt-12">
                            <div className="bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-lg">
                                <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <span className="text-2xl">‚ö°</span>
                                </div>
                                <h3 className="text-xl font-semibold mb-2">„Ç≤„Éº„É†ÊÑüË¶ö„ÅÆÁÆóÂá∫</h3>
                                <p className="text-gray-600">Ê•Ω„Åó„Åè„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥</p>
                            </div>
                            
                            <div className="bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-lg">
                                <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <span className="text-2xl">üìä</span>
                                </div>
                                <h3 className="text-xl font-semibold mb-2">Á∞°Âçò„Å™ÂÖ•Âäõ</h3>
                                <p className="text-gray-600">ÂøÖË¶Å„Å™„Éá„Éº„Çø„Å´„Çµ„Éù„Éº„Éà</p>
                            </div>
                            
                            <div className="bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-lg">
                                <div className="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <span className="text-2xl">üìà</span>
                                </div>
                                <h3 className="text-xl font-semibold mb-2">Ë©≥Á¥∞„Å™ÂàÜÊûê</h3>
                                <p className="text-gray-600">ÂèéÁõäÊÄß„ÅÆË©≥Á¥∞ÂàÜÊûê</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
            
            // Âú∞ÂüüÈÅ∏Êäû
            const renderRegionSelection = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="mb-8">
                            <h2 className="text-3xl font-bold text-gray-800 mb-4">Âú∞Âüü„ÇíÈÅ∏Êäû</h2>
                            <div className="step-indicator">
                                <span className="text-sm text-gray-600">Step 1 of 5</span>
                                <div className="progress-container">
                                    <div className="progress-bar" style={{width: '20%'}}></div>
                                </div>
                            </div>
                        </div>
                        
                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            {regions.map((region) => (
                                <div 
                                    key={region.value}
                                    className={`card-hover cursor-pointer p-6 rounded-lg border-2 transition-all ${
                                        formData.region === region.value ? 'border-blue-500 bg-blue-50' : 'border-gray-200 bg-white hover:border-gray-300'
                                    }`}
                                    onClick={() => setFormData(prev => ({ ...prev, region: region.value }))}
                                >
                                    <h3 className="text-xl font-semibold mb-2 flex items-center">
                                        <span className="mr-2">üìç</span>
                                        {region.label}
                                    </h3>
                                    <p className="text-gray-600 mb-3">{region.description}</p>
                                    <div className="space-y-2">
                                        <div className="flex justify-between">
                                            <span className="text-sm text-gray-600">Âπ≥ÂùáÁ®ºÂÉçÁéá</span>
                                            <span className="text-sm font-medium">{region.avgRate}</span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span className="text-sm text-gray-600">Âπ≥ÂùáÂçò‰æ°</span>
                                            <span className="text-sm font-medium">{region.avgPrice}</span>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                        
                        <div className="flex justify-between mt-8">
                            <button
                                onClick={prevStep}
                                className="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                Êàª„Çã
                            </button>
                            <button
                                onClick={nextStep}
                                disabled={!formData.region}
                                className="bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                Ê¨°„Å∏
                            </button>
                        </div>
                    </div>
                </div>
            );
            
            // Áâ©‰ª∂„Çø„Ç§„ÉóÈÅ∏Êäû
            const renderPropertyTypeSelection = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="mb-8">
                            <h2 className="text-3xl font-bold text-gray-800 mb-4">Áâ©‰ª∂„Çø„Ç§„Éó„ÇíÈÅ∏Êäû</h2>
                            <div className="step-indicator">
                                <span className="text-sm text-gray-600">Step 2 of 5</span>
                                <div className="progress-container">
                                    <div className="progress-bar" style={{width: '40%'}}></div>
                                </div>
                            </div>
                        </div>
                        
                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            {propertyTypes.map((property) => (
                                <div 
                                    key={property.value}
                                    className={`card-hover cursor-pointer p-6 rounded-lg border-2 transition-all ${
                                        formData.propertyType === property.value ? 'border-blue-500 bg-blue-50' : 'border-gray-200 bg-white hover:border-gray-300'
                                    }`}
                                    onClick={() => setFormData(prev => ({ ...prev, propertyType: property.value }))}
                                >
                                    <div className="text-center">
                                        <div className="text-4xl mb-2">{property.icon}</div>
                                        <h3 className="text-xl font-semibold mb-2">{property.label}</h3>
                                        <p className="text-gray-600">
                                            <span className="mr-1">üë•</span>
                                            ÊúÄÂ§ß{property.maxOccupancy}Âêç„Åæ„Åß
                                        </p>
                                    </div>
                                </div>
                            ))}
                        </div>
                        
                        <div className="flex justify-between mt-8">
                            <button
                                onClick={prevStep}
                                className="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                Êàª„Çã
                            </button>
                            <button
                                onClick={nextStep}
                                disabled={!formData.propertyType}
                                className="bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                Ê¨°„Å∏
                            </button>
                        </div>
                    </div>
                </div>
            );
            
            // ÂÆ∂Ë≥É„ÉªË≤ªÁî®ÂÖ•ÂäõÔºàÂàùÊúüË≤ªÁî®„ÇíÊâãÂÖ•ÂäõÔºâ
            const renderRentInput = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="mb-8">
                            <h2 className="text-3xl font-bold text-gray-800 mb-4">ÂÆ∂Ë≥É„ÉªÂàùÊúüË≤ªÁî®</h2>
                            <div className="step-indicator">
                                <span className="text-sm text-gray-600">Step 3 of 5</span>
                                <div className="progress-container">
                                    <div className="progress-bar" style={{width: '60%'}}></div>
                                </div>
                            </div>
                        </div>
                        
                        <div className="space-y-6">
                            <div className="bg-white rounded-lg p-8 shadow-lg">
                                <h3 className="text-xl font-semibold mb-6">ÊúàÈ°çÂÆ∂Ë≥É</h3>
                                
                                <div className="mb-6">
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        ÊúàÈ°çÂÆ∂Ë≥É (ÂÜÜ)
                                    </label>
                                    <input
                                        type="range"
                                        min="30000"
                                        max="500000"
                                        step="10000"
                                        value={formData.monthlyRent}
                                        onChange={(e) => setFormData(prev => ({ ...prev, monthlyRent: parseInt(e.target.value) }))}
                                        className="w-full mb-4"
                                    />
                                    <input
                                        type="number"
                                        value={formData.monthlyRent}
                                        onChange={(e) => setFormData(prev => ({ ...prev, monthlyRent: parseInt(e.target.value) || 0 }))}
                                        className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg font-bold"
                                    />
                                </div>
                            </div>
                            
                            {/* ÂàùÊúüË≤ªÁî®„ÇíÊâãÂÖ•Âäõ */}
                            <div className="bg-white rounded-lg p-8 shadow-lg">
                                <h3 className="text-xl font-semibold mb-6">ÂàùÊúüË≤ªÁî®</h3>
                                
                                <div className="mb-6">
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        ÂàùÊúüË≤ªÁî®ÔºàÊï∑Èáë„ÉªÁ§ºÈáë„Éª‰ª≤‰ªãÊâãÊï∞ÊñôÁ≠âÔºâ(ÂÜÜ)
                                    </label>
                                    <input
                                        type="range"
                                        min="0"
                                        max="5000000"
                                        step="100000"
                                        value={formData.initialCost}
                                        onChange={(e) => setFormData(prev => ({ ...prev, initialCost: parseInt(e.target.value) }))}
                                        className="w-full mb-4"
                                    />
                                    <input
                                        type="number"
                                        value={formData.initialCost}
                                        onChange={(e) => setFormData(prev => ({ ...prev, initialCost: parseInt(e.target.value) || 0 }))}
                                        className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg font-bold"
                                    />
                                    <p className="text-sm text-gray-600 mt-2">
                                        ‚ÄªÊï∑Èáë„ÉªÁ§ºÈáë„Éª‰ª≤‰ªãÊâãÊï∞Êñô„Éª„Åù„ÅÆ‰ªñÂàùÊúüË≤ªÁî®„ÅÆÂêàË®à„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ
                                    </p>
                                </div>
                            </div>
                            
                            {formData.propertyType && (
                                <div className="bg-gray-50 p-4 rounded-lg">
                                    <h4 className="font-semibold mb-3">ÂèÇËÄÉÔºöÊúàÈ°çË≤ªÁî®</h4>
                                    <div className="space-y-2">
                                        <div className="flex justify-between">
                                            <span>ÊúàÈ°çÊ∏ÖÊéÉË≤ª</span>
                                            <span className="font-medium">
                                                ¬•{propertyData[formData.propertyType].ÊúàÈ°çÊ∏ÖÊéÉË≤ª.toLocaleString()}
                                            </span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span>ÂÖâÁÜ±Ë≤ª„Éª‰øùÈô∫ÊñôÁ≠â</span>
                                            <span className="font-medium">¬•16,000</span>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                        
                        <div className="flex justify-between mt-8">
                            <button
                                onClick={prevStep}
                                className="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                Êàª„Çã
                            </button>
                            <button
                                onClick={nextStep}
                                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                Ê¨°„Å∏
                            </button>
                        </div>
                    </div>
                </div>
            );
            
            // ËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥
            const renderOptionsInput = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="mb-8">
                            <h2 className="text-3xl font-bold text-gray-800 mb-4">ËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥</h2>
                            <div className="step-indicator">
                                <span className="text-sm text-gray-600">Step 4 of 5</span>
                                <div className="progress-container">
                                    <div className="progress-bar" style={{width: '80%'}}></div>
                                </div>
                            </div>
                        </div>
                        
                        <div className="space-y-6">
                            <div className="bg-white rounded-lg p-6 shadow-lg">
                                <h3 className="text-xl font-semibold mb-4">ÂÆ∂ÂÖ∑„ÉªÂÆ∂Èõª</h3>
                                <div className="flex items-center space-x-2">
                                    <input
                                        type="checkbox"
                                        id="furniture"
                                        checked={formData.furnitureAppliances}
                                        onChange={(e) => setFormData(prev => ({ ...prev, furnitureAppliances: e.target.checked }))}
                                        className="h-4 w-4 text-blue-600"
                                    />
                                    <label htmlFor="furniture" className="text-lg">
                                        ÂÆ∂ÂÖ∑„ÉªÂÆ∂Èõª„ÇíË≥ºÂÖ•„Åô„Çã 
                                        {formData.propertyType && (
                                            <span className="text-gray-600 ml-2">
                                                (¬•{propertyData[formData.propertyType].ÂÆ∂ÂÖ∑ÂÆ∂ÈõªË≤ª.toLocaleString()})
                                            </span>
                                        )}
                                    </label>
                                </div>
                            </div>
                            
                            <div className="bg-white rounded-lg p-6 shadow-lg">
                                <h3 className="text-xl font-semibold mb-4">„É™„Éï„Ç©„Éº„É†Ë≤ªÁî®</h3>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    „É™„Éï„Ç©„Éº„É†Ë≤ªÁî® (ÂÜÜ)
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="2000000"
                                    step="50000"
                                    value={formData.renovationCost}
                                    onChange={(e) => setFormData(prev => ({ ...prev, renovationCost: parseInt(e.target.value) }))}
                                    className="w-full mb-4"
                                />
                                <input
                                    type="number"
                                    value={formData.renovationCost}
                                    onChange={(e) => setFormData(prev => ({ ...prev, renovationCost: parseInt(e.target.value) || 0 }))}
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-center"
                                />
                            </div>
                            
                            <div className="bg-white rounded-lg p-6 shadow-lg">
                                <h3 className="text-xl font-semibold mb-4">ÈÅãÂñ∂‰ª£Ë°åË≤ª</h3>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Â£≤‰∏ä„Å´ÂØæ„Åô„ÇãÈÅãÂñ∂‰ª£Ë°åË≤ª (%)
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="30"
                                    step="1"
                                    value={formData.managementFeeRate}
                                    onChange={(e) => setFormData(prev => ({ ...prev, managementFeeRate: parseInt(e.target.value) }))}
                                    className="w-full mb-4"
                                />
                                <input
                                    type="number"
                                    value={formData.managementFeeRate}
                                    onChange={(e) => setFormData(prev => ({ ...prev, managementFeeRate: parseInt(e.target.value) || 0 }))}
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-center"
                                    min="0"
                                    max="30"
                                />
                            </div>
                        </div>
                        
                        <div className="flex justify-between mt-8">
                            <button
                                onClick={prevStep}
                                className="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                Êàª„Çã
                            </button>
                            <button
                                onClick={nextStep}
                                disabled={isCalculating}
                                className="bg-green-500 hover:bg-green-600 disabled:bg-gray-300 text-white font-bold py-3 px-6 rounded-lg"
                            >
                                {isCalculating ? 'Ë®àÁÆó‰∏≠...' : 'ÁµêÊûú„ÇíË®àÁÆó'}
                            </button>
                        </div>
                    </div>
                </div>
            );
            
            // ÁµêÊûúË°®Á§∫Ôºà„ÄåÂπ¥ÈñìË≤ªÁî®„Äç‚Üí„ÄåÂπ¥ÈñìÊîØÊâï„ÅÑ„Äç„Å´Â§âÊõ¥Ôºâ
            const renderResults = () => {
                if (!results) return null;
                
                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4">
                        <div className="max-w-4xl mx-auto">
                            <div className="mb-8">
                                <h2 className="text-3xl font-bold text-gray-800 mb-4">„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥ÁµêÊûú</h2>
                                <div className="step-indicator">
                                    <span className="text-sm text-gray-600">Step 5 of 5</span>
                                    <div className="progress-container">
                                        <div className="progress-bar" style={{width: '100%'}}></div>
                                    </div>
                                </div>
                                <p className="text-gray-600">„ÅÇ„Å™„Åü„ÅÆÊ∞ëÊ≥äÊäïË≥á„ÅÆÂèéÁõä‰∫àÊ∏¨„Åß„Åô</p>
                            </div>
                            
                            {/* Âü∫Êú¨ÂèéÁõäÊÉÖÂ†±Ôºà„ÄåÂπ¥ÈñìË≤ªÁî®„Äç‚Üí„ÄåÂπ¥ÈñìÊîØÊâï„ÅÑ„Äç„Å´Â§âÊõ¥Ôºâ */}
                            <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                                <div className="bg-white rounded-lg p-6 shadow-lg text-center">
                                    <h3 className="text-lg font-semibold text-gray-700 mb-2">Âπ¥ÈñìÂ£≤‰∏ä</h3>
                                    <p className="text-2xl font-bold text-blue-600">
                                        ¬•{results.annualRevenue?.toLocaleString()}
                                    </p>
                                </div>
                                <div className="bg-white rounded-lg p-6 shadow-lg text-center">
                                    <h3 className="text-lg font-semibold text-gray-700 mb-2">Âπ¥ÈñìÊîØÊâï„ÅÑ</h3>
                                    <p className="text-2xl font-bold text-red-600">
                                        ¬•{results.annualCosts?.toLocaleString()}
                                    </p>
                                </div>
                                <div className="bg-white rounded-lg p-6 shadow-lg text-center">
                                    <h3 className="text-lg font-semibold text-gray-700 mb-2">Âπ¥ÈñìÂà©Áõä</h3>
                                    <p className={`text-2xl font-bold ${results.annualProfit >= 0 ? 'profit-positive' : 'profit-negative'}`}>
                                        ¬•{results.annualProfit?.toLocaleString()}
                                    </p>
                                </div>
                                <div className="bg-white rounded-lg p-6 shadow-lg text-center">
                                    <h3 className="text-lg font-semibold text-gray-700 mb-2">Âπ¥ÈñìÂà©Âõû„Çä</h3>
                                    <p className="text-2xl font-bold text-purple-600">
                                        {results.roi}%
                                    </p>
                                </div>
                            </div>
                            
                            {/* Ë©≥Á¥∞ÊÉÖÂ†± */}
                            <div className="bg-white rounded-lg p-8 shadow-lg mb-8">
                                <div className="grid md:grid-cols-2 gap-6">
                                    <div className="bg-gray-50 rounded-lg p-4">
                                        <h4 className="font-semibold mb-2">üìä Âü∫Êú¨ÊÉÖÂ†±</h4>
                                        <p>Âú∞Âüü: {results.region}</p>
                                        <p>Áâ©‰ª∂„Çø„Ç§„Éó: {results.property_type}</p>
                                        <p>ÊúàÈ°çÂÆ∂Ë≥É: ¬•{results.monthly_rent?.toLocaleString()}</p>
                                        <p>ÂàùÊúüË≤ªÁî®: ¬•{results.initial_cost?.toLocaleString()}</p>
                                        <p>ÊúàÈñìÂ£≤‰∏ä: ¬•{results.monthlyRevenue?.toLocaleString()}</p>
                                        <p>ÊúàÈñìÊîØÊâï„ÅÑ: ¬•{results.monthlyCosts?.toLocaleString()}</p>
                                        <p>ÊúàÈñìÂà©Áõä: ¬•{results.monthlyProfit?.toLocaleString()}</p>
                                    </div>
                                    <div className="bg-gray-50 rounded-lg p-4">
                                        <h4 className="font-semibold mb-2">üí∞ ÊäïË≥áÊåáÊ®ô</h4>
                                        <p>ÊäïË≥áÂõûÂèéÊúüÈñì: {results.recoveryPeriod}Âπ¥</p>
                                        <p>Á∑èÂàùÊúüË≤ªÁî®: ¬•{results.totalInitialCost?.toLocaleString()}</p>
                                        <p>Á®ºÂÉçÁéá: {(results.occupancyRate * 100).toFixed(0)}%</p>
                                        <p>Âπ≥ÂùáÂçò‰æ°: ¬•{results.dailyRate?.toLocaleString()}/Êó•</p>
                                    </div>
                                </div>
                            </div>
                            
                            {/* LINEÈÄ£Êê∫„Çª„ÇØ„Ç∑„Éß„É≥ */}
                            <div className="result-card rounded-lg p-8 shadow-lg mb-8">
                                <h3 className="text-2xl font-bold mb-4 text-center">üì± ÁµêÊûú„ÅØÂÖ¨ÂºèLINE„Çà„ÇäÂèó„ÅëÂèñ„Çå„Åæ„Åô</h3>
                                <p className="text-center mb-6 text-green-100">
                                    „Çà„ÇäË©≥Á¥∞„Å™ÂàÜÊûêÁµêÊûú„Å®„Éó„É≠„ÅÆÊäïË≥á„Ç¢„Éâ„Éê„Ç§„Çπ„Çí<br/>
                                    ÂÖ¨ÂºèLINE„ÅßÁÑ°ÊñôÈÖç‰ø°‰∏≠ÔºÅ
                                </p>
                                
                                <div className="text-center mb-6">
                                    <button
                                        onClick={() => window.open(CONFIG.LINE_OFFICIAL_URL, '_blank')}
                                        className="bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-8 rounded-lg text-lg transition-all duration-300 transform hover:scale-105 shadow-lg"
                                    >
                                        üîó ÂÖ¨ÂºèLINE„Å´ÁôªÈå≤„Åô„Çã
                                    </button>
                                </div>
                                
                                <div className="grid md:grid-cols-2 gap-4 text-sm mb-8">
                                    <div className="bg-white/20 p-4 rounded-lg">
                                        <h4 className="font-semibold mb-2">üí∞ Âü∫Êú¨ÂèéÁõäÊÉÖÂ†±</h4>
                                        <p className="text-xs opacity-90">Âπ¥ÈñìÂ£≤‰∏ä„ÉªÊîØÊâï„ÅÑ„ÉªÂà©Áõä„ÉªÂà©Âõû„Çä„ÉªÂõûÂèéÊúüÈñì</p>
                                    </div>
                                    <div className="bg-white/20 p-4 rounded-lg">
                                        <h4 className="font-semibold mb-2">üìà ÊúàÂà•ÂèéÁõäÊé®Áßª</h4>
                                        <p className="text-xs opacity-90">Â£≤‰∏ä„ÉªÊîØÊâï„ÅÑ„ÉªÂà©Áõä„ÅÆË©≥Á¥∞„Å™ÊúàÂà•Êé®Áßª</p>
                                    </div>
                                    <div className="bg-white/20 p-4 rounded-lg">
                                        <h4 className="font-semibold mb-2">üóæ Âú∞ÂüüÊØîËºÉÂàÜÊûê</h4>
                                        <p className="text-xs opacity-90">‰ªñÂú∞Âüü„Å®„ÅÆÂèéÁõäÊÄß„ÉªÁ®ºÂÉçÁéáÊØîËºÉ</p>
                                    </div>
                                    <div className="bg-white/20 p-4 rounded-lg">
                                        <h4 className="font-semibold mb-2">‚ö†Ô∏è „É™„Çπ„ÇØÂàÜÊûê</h4>
                                        <p className="text-xs opacity-90">ÊäïË≥á„É™„Çπ„ÇØ„ÅÆË©≥Á¥∞Ë©ï‰æ°„Å®ÂØæÁ≠ñ</p>
                                    </div>
                                    <div className="bg-white/20 p-4 rounded-lg">
                                        <h4 className="font-semibold mb-2">üí° ÊîπÂñÑÊèêÊ°à</h4>
                                        <p className="text-xs opacity-90">ÂèéÁõäÂêë‰∏ä„ÅÆÂÖ∑‰ΩìÁöÑ„Å™ÊîπÂñÑÊ°à</p>
                                    </div>
                                    <div className="bg-white/20 p-4 rounded-lg">
                                        <h4 className="font-semibold mb-2">üéì Ê∞ëÊ≥äÂ°æÁâπÂà•Ê°àÂÜÖ</h4>
                                        <p className="text-xs opacity-90">LINEÈôêÂÆö50%OFF„Åß„ÅÆ„Çπ„ÇØ„Éº„É´Ê°àÂÜÖ</p>
                                    </div>
                                </div>
                                
                                <p className="text-sm text-green-100 text-center">
                                    ‚ÄªÁôªÈå≤„ÅØÁÑ°Êñô„Åß„Åô„ÄÇÂèã„Å†„Å°ËøΩÂä†Âæå„ÄÅËá™Âãï„ÅßË©≥Á¥∞„Å™ÂàÜÊûêÁµêÊûú„Çí„ÅäÈÄÅ„Çä„Åó„Åæ„Åô„ÄÇ
                                </p>
                            </div>
                            
                            {/* ÂÖçË≤¨‰∫ãÈ†Ö */}
                            <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8">
                                <p className="text-sm text-yellow-800">
                                    <strong>ÂÖçË≤¨‰∫ãÈ†ÖÔºö</strong>
                                    „Åì„ÅÆ„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥ÁµêÊûú„ÅØÂèÇËÄÉÂÄ§„Åß„ÅÇ„Çä„ÄÅÂÆüÈöõ„ÅÆÊäïË≥áÂèéÁõä„Çí‰øùË®º„Åô„Çã„ÇÇ„ÅÆ„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ
                                    ÊäïË≥áÂà§Êñ≠„ÅØËá™Â∑±Ë≤¨‰ªª„ÅßË°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                                </p>
                            </div>
                            
                            <div className="text-center">
                                <button
                                    onClick={() => {
                                        setCurrentStep(0);
                                        setResults(null);
                                        setFormData({
                                            region: '',
                                            propertyType: '',
                                            monthlyRent: 100000,
                                            initialCost: 1000000,
                                            furnitureAppliances: true,
                                            renovationCost: 0,
                                            managementFeeRate: 10,
                                            cleaningFee: 0
                                        });
                                        setShowLineInfo(false);
                                    }}
                                    className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg"
                                >
                                    Êñ∞„Åó„ÅÑ„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };
            
            const renderStep = () => {
                switch (currentStep) {
                    case 0: return renderLandingPage();
                    case 1: return renderRegionSelection();
                    case 2: return renderPropertyTypeSelection();
                    case 3: return renderRentInput();
                    case 4: return renderOptionsInput();
                    case 5: return renderResults();
                    default: return renderLandingPage();
                }
            };
            
            return (
                <div className="min-h-screen">
                    {renderStep()}
                    
                    {/* „Éï„ÉÉ„Çø„Éº */}
                    <footer className="bg-gray-800 text-white py-8">
                        <div className="max-w-4xl mx-auto px-4 text-center">
                            <div className="mb-4">
                                <span className="text-2xl mb-2 block">üè†</span>
                            </div>
                            <p className="mb-2">ÈÅãÂñ∂‰ºöÁ§æÔºöÊ†™Âºè‰ºöÁ§æProrium</p>
                        </div>
                    </footer>
                </div>
            );
        }
        
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>

